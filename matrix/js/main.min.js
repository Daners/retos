var symbolSize=16,streams=[];function setup(){createCanvas(window.innerWidth,window.innerHeight);background(0);for(var a=0,b=0;b<=width/symbolSize;b++){var c=new Stream;c.generateSymbols(a,random(-500,0));streams.push(c);a+=symbolSize}textSize(symbolSize)}function draw(){background(0,150);streams.forEach(function(a){a.render()})}
function Symbol(a,b,c,d){this.x=a;this.y=b;this.value;this.speed=c;this.switchInterval=round(random(2,20));this.first=d;this.setToRandomSymbol=function(){0==frameCount%this.switchInterval&&(this.value=String.fromCharCode(12448+round(random(0,96))))};this.rain=function(){this.y=this.y>=height?0:this.y+=this.speed}}
function Stream(){this.symbols=[];this.totalSymbols=round(random(5,30));this.speed=random(5,20);this.generateSymbols=function(a,b){for(var c=1==round(random(0,4)),d=0;d<=this.totalSymbols;d++)symbol=new Symbol(a,b,this.speed,c),symbol.setToRandomSymbol(),this.symbols.push(symbol),b-=symbolSize,c=!1};this.render=function(){this.symbols.forEach(function(a){a.first?fill(180,255,180):fill(0,255,70);text(a.value,a.x,a.y);a.rain();a.setToRandomSymbol()})}};
